{% extends 'exploration/base.html' %}

{% load breadcrumbs %}
{% block breadcrumbs %}
    {{ block.super }}
    {% breadcrumb_url context.user twothreefall.lastfmexplorer.views.overview context.user context.start context.end %}
    {% breadcrumb_url "TopN" twothreefall.lastfmexplorer.views.user_top_n_history context.user %}
{% endblock %}

{% block lextitle %}{{ context.user }} - {% if context.year %}{{ context.year }}{% endif %} TopN - {% endblock %}

{% block javascript %}
    <script type="text/javascript" src="{{ MEDIA_URL }}js/external/flot/jquery.flot.min.js"></script>
    <script type="text/javascript" src="{{ MEDIA_URL }}js/external/flot/jquery.flot.navigate.js"></script>
    <script type="text/javascript" src="{{ MEDIA_URL }}js/flot-charts.js"></script>
    <script type="text/javascript" src="{{ MEDIA_URL }}js/topn.js"></script>
    <script type="text/javascript">
        $(document).ready(function() {
            $.get("{% url lastfmexplorer.views.top_n_ajax %}", {u: "{{ context.user }}"}, topNner.plot);
        });
    </script>
{% endblock %}

{% block content %}
    <div id="hovered">..hover</div>
    <div style="width:100%; height: 650px;" id="topn"></div>
{% endblock %}

