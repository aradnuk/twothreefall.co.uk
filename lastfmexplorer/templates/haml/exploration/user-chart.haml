- extends 'exploration/base.html'

- load breadcrumbs
- block breadcrumbs
    = block.super
    - breadcrumb_url context.user lastfmexplorer.views.overview context.user context.start context.end
    - breadcrumb_url "Chart" lastfmexplorer.views.user_chart context.user context.start context.end

- block lextitle
    {{ context.user }} - {% if context.year %}{{ context.year }}{% endif %} Chart -

- block lex_page_config
    .alignedLabel
        -#
          See:
            http://alexking.org/blog/2005/07/18/css-checkbox-label-positioning
            http://stackoverflow.com/questions/306252/how-to-align-checkboxes-and-their-labels-consistently-cross-browsers
        %div
            .grouped_checkbox_label Exclude:
            .grouped_checkboxes
                %div
                    <input id="newmusic" name="newmusic" type="checkbox" {% if only_new %}checked="checked"{% endif %}/>
                    %label{'for':'newmusic'} artists scrobbled before start date
                %div
                    <input id="exclude_months" name="exclude_months" type="checkbox"
                        {% if exclude_months %}checked="checked"{% endif %}/>
                    %label{'for': 'exclude_months'} artists scrobbled in the last
                    <input id="num_excluded" name="num_excluded" type="text" class="small_num_input"
                        value="{{ num_excluded }}"/>
                    months
    .alignedLabel
        %label.aligned{'for': 'count'} Items in chart:
        <input id="count" name="count" type="text" class="medium_num_input" {% if count %}value="{{ count }}"{% endif %}/>

- block content
    .itemofinterest
        .itemcontent
            - if isWeek
                #weeklinks
                    %span#previousweek
                        - if prevW > 0
                            <a href="{% url lastfmexplorer.views.user_week_chart context.user prevW %}">Previous</a>
                        - else
                            Previous
                    %span#nextweek
                        <a href="{% url lastfmexplorer.views.user_week_chart context.user nextW %}">Next</a>
            %ol
                - for artist, count, max in chart
                    %li.barchart
                        <a href="{{ artist.get_absolute_url }}">{{ artist.name }}</a>
                        <div class="barchart_item" style="width:{% widthratio count max 99 %}%;">
                            <span class='barchart_num'>{{ count }}</span>
                        </div>
